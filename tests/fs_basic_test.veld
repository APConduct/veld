import std.fs

std.io.println("Testing fs.write...")
let write_result = fs.write("veld_test.txt", "Hello, Veld!")
if write_result.is_ok() then
    std.io.println("fs.write: OK")
else
    std.io.println("fs.write: Error")
end

std.io.println("Testing fs.read...")
let read_result = fs.read("veld_test.txt")
if read_result.is_ok() then
    std.io.println("fs.read contents:" + read_result.unwrap_or(""))
else
    std.io.println("fs.read: Error")
end

std.io.println("Testing fs.exists...")
let exists_before = fs.exists("veld_test.txt")
if exists_before then
    std.io.println("fs.exists before remove: true")
else
    std.io.println("fs.exists before remove: false")
end

std.io.println("Testing fs.remove...")
let remove_result = fs.remove("veld_test.txt")
if remove_result.is_ok() then
    std.io.println("fs.remove: OK")
else
    std.io.println("fs.remove: Error")
end

let exists_after = fs.exists("veld_test.txt")
if exists_after then
    std.io.println("fs.exists after remove: true")
else
    std.io.println("fs.exists after remove: false")
end

std.io.println("Testing fs.read_dir...")
let dir_result = fs.read_dir(".")
if dir_result.is_ok() then
    std.io.println("fs.read_dir: OK")
else
    std.io.println("fs.read_dir: Error")
end
